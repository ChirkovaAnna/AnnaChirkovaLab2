


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             FUNC, CODE, READONLY
    2 00000000         ;—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç
                       –∞ number –≤ –º–∞—Å—Å–∏–≤–µ
    3 00000000         ;–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
    4 00000000         ; r0 = int32_t* mas_in  - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∏—Å—Ö
                       –æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤
    5 00000000         ; r1 = size     - —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞
    6 00000000         ;   r2 = number           - —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä—ã–
                       π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ 
    7 00000000         ;–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    8 00000000         ; –Ω–æ–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ number –≤ –º–∞—Å—Å–∏–≤–µ 
    9 00000000         
   10 00000000         func_asem_num
                               PROC
   11 00000000                 export           func_asem_num
   12 00000000 B500            push             {lr}
   13 00000002 F04F 0300       mov              r3, #0      ;–∏–Ω–¥–µ–∫—Å —á–∏—
                                                            Å–ª–∞ 
   14 00000006         loop
   15 00000006 428B            cmp              r3, r1      ;–ø–æ–∫–∞ R3 –º–µ–Ω
                                                            —å—à–µ —Ä–∞–∑–º–µ—Ä
                                                            –∞ –º–∞—Å—Å–∏–≤–∞ —
                                                            Ü–∏–∫–ª –≤—ã–ø–æ–ª–
                                                            Ω—è–µ—Ç—Å—è 
   16 00000008 D006            beq              deadloop    ;–µ—Å–ª–∏ –æ–Ω–∏ —Ä
                                                            –∞–≤–Ω—ã, —Ç–æ –ø–µ
                                                            —Ä–µ—Ö–æ–¥–∏–º –≤ d
                                                            eadloop
   17 0000000A         ioop_1
   18 0000000A 58C4            ldr              r4, [r0, r3] ;—á—Ç–µ–Ω–∏–µ –≤ r
                                                            4 –ø–æ –∞–¥—Ä–µ—Å—É
                                                             r0 + r3
   19 0000000C 4294            cmp              r4, r2      ;—Å—Ä–∞–≤–Ω–∏–≤–∞–µ
                                                            –º –µ–≥–æ —Å r2 (nu
                                                            mber)
   20 0000000E D002            beq              loop_2      ;–µ—Å–ª–∏ –æ–Ω–∏ —Ä
                                                            –∞–≤–Ω—ã, —Ç–æ –ø–µ
                                                            —Ä–µ—Ö–æ–¥–∏–º –≤ l
                                                            oop_2
   21 00000010 F103 0304       add              r3, #4      ;—Å–ª–æ–∂–µ–Ω–∏–µ r
                                                            3 + 4
   22 00000014 E7F7            b                loop        ;–±–µ–∑—É—Å–ª–æ–≤–Ω
                                                            —ã–π –ø–µ—Ä–µ—Ö–æ–¥
                                                             –≤ loop
   23 00000016         loop_2
   24 00000016 4618            mov              r0, r3      ;–∑–∞–≥—Ä—É–∂–∞–µ–º
                                                             r3 –≤ r0, —Ç.–µ. —
                                                            Ñ—É–Ω–∫—Ü–∏—è –≤–æ–
                                                            ∑–≤—Ä–∞—â–∞–µ—Ç –∏–
                                                            Ω–¥–µ–∫—Å —ç–ª–µ–º–
                                                            µ–Ω—Ç–∞ –≤ –æ—Å–Ω–æ
                                                            –≤–Ω—É—é —Ñ—É–Ω–∫—Ü
                                                            –∏—é 
   25 00000018         deadloop
   26 00000018 BD00            pop              {pc}        ;–≤–æ–∑–≤—Ä–∞—â–∞–µ
                                                            –º—Å—è –≤ –æ—Å–Ω–æ–
                                                            ≤–Ω—É—é —Ñ—É–Ω–∫—Ü–
                                                            ∏—é 
   27 0000001A         



ARM Macro Assembler    Page 2 


   28 0000001A         ;–§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —á–µ—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç
                       –æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –ø–æ—Å–ª–µ –Ω–æ–º–µ—Ä–∞ —ç–ª–µ–º–
                       µ–Ω—Ç–∞ number.
   29 0000001A         ;–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
   30 0000001A         ; r0 = int32_t* mas_in  - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∏—Å—Ö
                       –æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤
   31 0000001A         ; r2 = size     - —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞
   32 0000001A         ;   r3 = mas_out          - –ø—É—Å—Ç–æ–π –≤—ã—Ö–æ–¥–Ω–æ–
                       π –º–∞—Å—Å–∏–≤
   33 0000001A         ;   r4 = num              - –Ω–æ–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ 
                       number
   34 0000001A         
   35 0000001A         func_asem_mas_out_even_numbers
                               PROC
   36 0000001A                 export           func_asem_mas_out_even_numbers
   37 0000001A B500            push             {lr}
   38 0000001C F04F 0600       mov              r6, #0      ;—Å—á–µ—Ç—á–∏–∫ –∑–
                                                            ∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —
                                                            ç–ª–µ–º–µ–Ω—Ç–æ–≤
   39 00000020         telo_i1
   40 00000020 F103 0304       add              r3, #4      ;—Å–ª–æ–∂–µ–Ω–∏–µ r
                                                            3 + 4
   41 00000024 428B            cmp              r3, r1      ;–ø–æ–∫–∞ R3 –º–µ–Ω
                                                            —å—à–µ —Ä–∞–∑–º–µ—Ä
                                                            –∞ –º–∞—Å—Å–∏–≤–∞ —
                                                            Ü–∏–∫–ª –≤—ã–ø–æ–ª–
                                                            Ω—è–µ—Ç—Å—è 
   42 00000026 D008            beq              deadloop_i  ;–µ—Å–ª–∏ —Ä–∞–≤–Ω—
                                                            ã –ø–µ—Ä–µ—Ö–æ–¥ –≤
                                                             deadloop_i
   43 00000028 58C4            ldr              r4, [r0,r3] ;—á—Ç–µ–Ω–∏–µ –≤ r4
                                                             –ø–æ –∞–¥—Ä–µ—Å—É 
                                                            r0 + r3
   44 0000002A F004 0501       and              r5, r4, #1  ;–ª–æ–≥–∏—á–µ—Å–∫–∏
                                                            –π '–∏' r4 —Å 1 –∏ 
                                                            –∑–∞–ø–∏—Å—å —Ä–µ–∑
                                                            —É–ª—å—Ç–∞—Ç–∞ –≤ r
                                                            5
   45 0000002E 2D00            cmp              r5, #0      ;–µ—Å–ª–∏ r5 —Ä–∞–≤
                                                            –µ–Ω 0, —Ç.–µ. —á–∏
                                                            —Å–ª–æ —á–µ—Ç–Ω–æ–µ
                                                            , —Ç–æ –ø–µ—Ä–µ—Ö–æ
                                                            –¥ –≤ telo_i2
   46 00000030 D1F6            bne              telo_i1     ;–µ—Å–ª–∏ r5 –Ω–µ —
                                                            Ä–∞–≤–µ–Ω 0, —Ç.–µ.
                                                             —á–∏—Å–ª–æ –Ω–µ—á–
                                                            µ—Ç–Ω–æ–µ, —Ç–æ –ø–
                                                            µ—Ä–µ—Ö–æ–¥ –≤ telo
                                                            _i1
   47 00000032         telo_i2
   48 00000032 5194            str              r4, [r2, r6] ;–∑–∞–ø–∏—Å—å —Å r
                                                            4 –≤ –ø–∞–º—è—Ç—å –
                                                            ø–æ –∞–¥—Ä–µ—Å—É r2
                                                             + r6, —Ç.–µ. –∑–∞–
                                                            ø–∏—Ç—å –≤ –º–∞—Å—Å
                                                            –∏–≤ mas_out
   49 00000034 F106 0604       add              r6, #4      ;—Å–ª–æ–∂–µ–Ω–∏–µ r
                                                            6 + 4
   50 00000038 E7F2            b                telo_i1     ;–±–µ–∑—É—Å–ª–æ–≤–Ω



ARM Macro Assembler    Page 3 


                                                            —ã–π –ø–µ—Ä–µ—Ö–æ–¥
                                                             –≤ telo_i1
   51 0000003A         deadloop_i
   52 0000003A BD00            pop              {pc}        ;–≤–æ–∑–≤—Ä–∞—â–∞–µ
                                                            –º—Å—è –≤ –æ—Å–Ω–æ–
                                                            ≤–Ω—É—é —Ñ—É–Ω–∫—Ü–
                                                            ∏—é 
   53 0000003C                 end
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\func.d -o.\objects\func.o -I.\RTE\Device\STM32F103RB -I.
\RTE\_Target_1 -IC:\ARM\PACK\ARM\CMSIS\5.0.1\CMSIS\Include -IC:\ARM\PACK\Keil\S
TM32F1xx_DFP\2.3.0\Device\Include --predefine="__EVAL SETA 1" --predefine="__UV
ISION_VERSION SETA 524" --predefine="_RTE_ SETA 1" --predefine="STM32F10X_MD SE
TA 1" --list=.\listings\func.lst func.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

FUNC 00000000

Symbol: FUNC
   Definitions
      At line 1 in file func.s
   Uses
      None
Comment: FUNC unused
deadloop 00000018

Symbol: deadloop
   Definitions
      At line 25 in file func.s
   Uses
      At line 16 in file func.s
Comment: deadloop used once
deadloop_i 0000003A

Symbol: deadloop_i
   Definitions
      At line 51 in file func.s
   Uses
      At line 42 in file func.s
Comment: deadloop_i used once
func_asem_mas_out_even_numbers 0000001A

Symbol: func_asem_mas_out_even_numbers
   Definitions
      At line 35 in file func.s
   Uses
      At line 36 in file func.s
Comment: func_asem_mas_out_even_numbers used once
func_asem_num 00000000

Symbol: func_asem_num
   Definitions
      At line 10 in file func.s
   Uses
      At line 11 in file func.s
Comment: func_asem_num used once
ioop_1 0000000A

Symbol: ioop_1
   Definitions
      At line 17 in file func.s
   Uses
      None
Comment: ioop_1 unused
loop 00000006

Symbol: loop
   Definitions
      At line 14 in file func.s
   Uses
      At line 22 in file func.s
Comment: loop used once
loop_2 00000016

Symbol: loop_2



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 23 in file func.s
   Uses
      At line 20 in file func.s
Comment: loop_2 used once
telo_i1 00000020

Symbol: telo_i1
   Definitions
      At line 39 in file func.s
   Uses
      At line 46 in file func.s
      At line 50 in file func.s

telo_i2 00000032

Symbol: telo_i2
   Definitions
      At line 47 in file func.s
   Uses
      None
Comment: telo_i2 unused
10 symbols
344 symbols in table
